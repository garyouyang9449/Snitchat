[{"/Users/garyouyang/Documents/Projects/Declair/client/src/index.js":"1","/Users/garyouyang/Documents/Projects/Declair/client/src/App.js":"2","/Users/garyouyang/Documents/Projects/Declair/client/src/components/Rooms/Rooms.js":"3","/Users/garyouyang/Documents/Projects/Declair/client/src/components/Chat/Chat.js":"4","/Users/garyouyang/Documents/Projects/Declair/client/src/components/InfoBar/InfoBar.js":"5","/Users/garyouyang/Documents/Projects/Declair/client/src/components/Input/Input.js":"6","/Users/garyouyang/Documents/Projects/Declair/client/src/components/Messages/Messages.js":"7","/Users/garyouyang/Documents/Projects/Declair/client/src/components/Message/Message.js":"8"},{"size":216,"mtime":1608582394581,"results":"9","hashOfConfig":"10"},{"size":496,"mtime":1608855442549,"results":"11","hashOfConfig":"10"},{"size":996,"mtime":1609551430547,"results":"12","hashOfConfig":"10"},{"size":2071,"mtime":1609548410029,"results":"13","hashOfConfig":"10"},{"size":548,"mtime":1609303331690,"results":"14","hashOfConfig":"10"},{"size":554,"mtime":1609305233401,"results":"15","hashOfConfig":"10"},{"size":385,"mtime":1609550906998,"results":"16","hashOfConfig":"10"},{"size":905,"mtime":1609551147025,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"qm2ggx",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/garyouyang/Documents/Projects/Declair/client/src/index.js",[],["36","37"],"/Users/garyouyang/Documents/Projects/Declair/client/src/App.js",[],"/Users/garyouyang/Documents/Projects/Declair/client/src/components/Rooms/Rooms.js",["38","39"],"/Users/garyouyang/Documents/Projects/Declair/client/src/components/Chat/Chat.js",["40"],"import React, { useState, useEffect } from 'react';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\n\nimport './Chat.css';\nimport InfoBar from '../InfoBar/InfoBar.js';\nimport Input from '../Input/Input.js';\nimport Messages from '../Messages/Messages';\n\nlet socket;\n\nconst ENDPOINT = 'localhost:5000';\nsocket = io(ENDPOINT);\n\n/**\n * The basic structure of the chatroom\n * @param {location} param0 the URL parameters\n */\nconst Chat = ({ location }) => {\n    const [school, setSchool] = useState(''); // set school to default ''\n    const [name, setName] = useState(''); \n    const [messages, setMessages] = useState([]); // an array of message\n    const [message, setMessage] = useState(''); // a single message\n\n    useEffect(() => {\n        const { school, name } = queryString.parse(location.search); // location.search: the url parameters\n\n        setSchool(school);\n        setName(name);\n\n        socket.emit('join', { school, name }, (error) => {\n            if(error) {\n                //regenerate a new name\n                \n            }\n        });\n\n        return () => {\n            socket.emit('disconnect');\n            socket.off();\n        };\n        \n    }, [ENDPOINT, location.search]); // on endpoint and URL location change\n\n    useEffect(() => {\n        socket.on('message', (message) => {\n            setMessages([...messages, message ]);\n        });\n    }, [messages]);\n\n    const sendMessage = (event) => {\n        // check if user types a empty message\n        event.preventDefault();\n\n        if(message) {\n            socket.emit('sendMessage', message, () => {\n                setMessage('');\n            });\n        }\n    }\n\n    console.log(messages, message);\n\n    return (\n        <div className=\"outerContainer\">\n            <div className=\"container\">\n                <InfoBar school={school}/>\n                <Messages messages={messages} name={name}/>\n                <Input message={message} setMessage={setMessage} sendMessage={sendMessage}/>\n            </div>\n        </div>\n    )\n};\n\nexport default Chat;","/Users/garyouyang/Documents/Projects/Declair/client/src/components/InfoBar/InfoBar.js",[],"/Users/garyouyang/Documents/Projects/Declair/client/src/components/Input/Input.js",[],"/Users/garyouyang/Documents/Projects/Declair/client/src/components/Messages/Messages.js",[],"/Users/garyouyang/Documents/Projects/Declair/client/src/components/Message/Message.js",[],{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":4,"column":17,"nodeType":"47","messageId":"48","endLine":4,"endColumn":25},{"ruleId":"45","severity":1,"message":"49","line":11,"column":7,"nodeType":"47","messageId":"48","endLine":11,"endColumn":17},{"ruleId":"50","severity":1,"message":"51","line":43,"column":8,"nodeType":"52","endLine":43,"endColumn":35,"suggestions":"53"},"no-native-reassign",["54"],"no-negated-in-lhs",["55"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'RandomName' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has an unnecessary dependency: 'ENDPOINT'. Either exclude it or remove the dependency array. Outer scope values like 'ENDPOINT' aren't valid dependencies because mutating them doesn't re-render the component.","ArrayExpression",["56"],"no-global-assign","no-unsafe-negation",{"desc":"57","fix":"58"},"Update the dependencies array to be: [location.search]",{"range":"59","text":"60"},[1201,1228],"[location.search]"]